{"ast":null,"code":"import { tsvParse, csvParse } from \"d3-dsv\";\nimport { timeParse } from \"d3-time-format\";\nimport axios from 'axios';\n\nfunction parseData(parse) {\n  return function (d) {\n    d.date = parse(d.date);\n    d.open = +d.open;\n    d.high = +d.high;\n    d.low = +d.low;\n    d.close = +d.close;\n    d.volume = +d.volume;\n    return d;\n  };\n}\n\nvar parseDate = timeParse(\"%Y-%m-%d\"); //https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=INX&apikey=NSUNV8LPVSSN0247&outputsize=full\n//https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=MSFT&interval=5min&apikey=demo&datatype=csv\n\nexport function getData() {\n  //const promiseMSFT = fetch(\"https://cdn.rawgit.com/rrag/react-stockcharts/master/docs/data/MSFT.tsv \")\n  var promiseMSFT = fetch(\"https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=INX&apikey=NSUNV8LPVSSN0247&outputsize=full\").then(function (response) {\n    return response.text();\n  }).then(function (data) {\n    return tsvParse(data, parseData(parseDate));\n  }); // .then((res) => {\n  //     let values = res.data\n  //     let data = values.map((obj) => {\n  //         let date = obj.date + 'T05:00:00.000Z'\n  //         obj.date = new Date(date)\n  //         return obj\n  //     })\n  // })\n\n  return promiseMSFT;\n}","map":{"version":3,"sources":["/Users/chandanakatika/GitHub/stock-chart/src/utils.js"],"names":["tsvParse","csvParse","timeParse","axios","parseData","parse","d","date","open","high","low","close","volume","parseDate","getData","promiseMSFT","fetch","then","response","text","data"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,QAAnB,QAAoC,QAApC;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,SAASC,SAAT,CAAmBC,KAAnB,EAA0B;AACzB,SAAO,UAASC,CAAT,EAAY;AAClBA,IAAAA,CAAC,CAACC,IAAF,GAASF,KAAK,CAACC,CAAC,CAACC,IAAH,CAAd;AACAD,IAAAA,CAAC,CAACE,IAAF,GAAS,CAACF,CAAC,CAACE,IAAZ;AACAF,IAAAA,CAAC,CAACG,IAAF,GAAS,CAACH,CAAC,CAACG,IAAZ;AACAH,IAAAA,CAAC,CAACI,GAAF,GAAQ,CAACJ,CAAC,CAACI,GAAX;AACAJ,IAAAA,CAAC,CAACK,KAAF,GAAU,CAACL,CAAC,CAACK,KAAb;AACAL,IAAAA,CAAC,CAACM,MAAF,GAAW,CAACN,CAAC,CAACM,MAAd;AAEA,WAAON,CAAP;AACA,GATD;AAUA;;AAED,IAAMO,SAAS,GAAGX,SAAS,CAAC,UAAD,CAA3B,C,CAEA;AAEA;;AAEA,OAAO,SAASY,OAAT,GAAmB;AACtB;AACH,MAAMC,WAAW,GAAGC,KAAK,CAAC,iHAAD,CAAL,CACjBC,IADiB,CACZ,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GADI,EAEZF,IAFY,CAEP,UAAAG,IAAI;AAAA,WAAIpB,QAAQ,CAACoB,IAAD,EAAOhB,SAAS,CAACS,SAAD,CAAhB,CAAZ;AAAA,GAFG,CAApB,CAFyB,CAKlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACP,SAAOE,WAAP;AACA","sourcesContent":["import { tsvParse, csvParse } from  \"d3-dsv\";\nimport { timeParse } from \"d3-time-format\";\nimport axios from 'axios';\nfunction parseData(parse) {\n\treturn function(d) {\n\t\td.date = parse(d.date);\n\t\td.open = +d.open;\n\t\td.high = +d.high;\n\t\td.low = +d.low;\n\t\td.close = +d.close;\n\t\td.volume = +d.volume;\n\n\t\treturn d;\n\t};\n}\n\nconst parseDate = timeParse(\"%Y-%m-%d\");\n\n//https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=INX&apikey=NSUNV8LPVSSN0247&outputsize=full\n\n//https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=MSFT&interval=5min&apikey=demo&datatype=csv\n\nexport function getData() {\n    //const promiseMSFT = fetch(\"https://cdn.rawgit.com/rrag/react-stockcharts/master/docs/data/MSFT.tsv \")\n\tconst promiseMSFT = fetch(\"https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=INX&apikey=NSUNV8LPVSSN0247&outputsize=full\")\n\t \t.then(response => response.text())\n        .then(data => tsvParse(data, parseData(parseDate)))\n        // .then((res) => {\n        //     let values = res.data\n        //     let data = values.map((obj) => {\n        //         let date = obj.date + 'T05:00:00.000Z'\n        //         obj.date = new Date(date)\n        //         return obj\n        //     })\n        // })\n\treturn promiseMSFT;\n}\n\n\n"]},"metadata":{},"sourceType":"module"}